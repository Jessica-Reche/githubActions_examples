name: "modify_readme"

on: [push]

jobs:
  ejecutar_tests:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Use Node.js
      uses: actions/setup-node@v2
      with:
        node-version: 14
    - name: npm install, build and test
      run: |
        npm ci
        npm run build
        npm test
  agregar_meme:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: Agregar meme al readme
      uses: ./
      with:
        frase_positiva: "Los tests han funcionado y lo sabes"
        frase_negativa: "Los tests han fallado y lo sables"
        resultado_tests: ${{ job.ejecutar_tests.outputs.resultado_tests }}
        name: Subir cambios a git
        run: |
          git config --global user.email "jessikareix20@gmail.com"
          git config --global user.name "Jessica-Reche"
          git add .
          git commit -m "Agregar meme al readme"
          git push